<form [formGroup]="scenarioForm" data-test-id="scenario-form">
  {{scenarioForm.value | json}} {{scenarioForm.valid }}{{scenarioForm.errors | json}}
  <app-stepper [stepperConfig]="stepperConfig()" (cancelClicked)="onCancel()" (finishClicked)="onSubmit()" (stepChanged)="onStepChanged($event)" data-test-id="scenario-stepper">
    <cdk-step data-test-id="product-step">
      <div formGroupName="product">
        <app-product-step [productFormGroup]="productGroup" />
      </div>
    </cdk-step>

    <cdk-step>
      <app-total-respondents [respondentsControl]="respondentsTotal" />
    </cdk-step>

    <cdk-step>
      <app-criteria-distribution
        [criteriaDistributionsArray]="criteriaDistributions" />
    </cdk-step>

    <cdk-step>
      <fieldset class="rounded-lg lg:max-w-5xl w-full mx-auto lg:py-8 py-16" formGroupName="impactDrivers">
        <legend class="text-lg font-medium text-[#282D39]">Set the impact drivers</legend>
        <p class="text-[#747884] text-xs mt-3">Distribute the weightage (in percentages) for different factors. The total should sum up to 100%. The system will calculate the Overall Score dynamically based on the provided values</p>

        <div class="mt-8 space-y-2" aria-labelledby="impact-drivers-heading">
          <div id="impact-drivers-heading" class="grid grid-cols-[1fr_20%] gap-2 px-4 py-2">
            <p class="font-semibold text-xs uppercase text-[#747884]">Drivers</p>
            <div class="text-center">
              <p class="font-semibold text-xs uppercase text-[#747884]">AVG.</p>
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">I</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Innovation</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="innovation"
                  [class]="impactDriversGroup.controls['innovation'].invalid && impactDriversGroup.controls['innovation'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['innovation'].invalid && impactDriversGroup.controls['innovation'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['innovation'].invalid && impactDriversGroup.controls['innovation'].touched ? 'innovation-error' : null"
                  aria-label="Innovation percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['innovation'].invalid && impactDriversGroup.controls['innovation'].touched) {
              <div id="innovation-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['innovation'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['innovation'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">M</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Motivation</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="motivation"
                  [class]="impactDriversGroup.controls['motivation'].invalid && impactDriversGroup.controls['motivation'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['motivation'].invalid && impactDriversGroup.controls['motivation'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['motivation'].invalid && impactDriversGroup.controls['motivation'].touched ? 'motivation-error' : null"
                  aria-label="Motivation percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['motivation'].invalid && impactDriversGroup.controls['motivation'].touched) {
              <div id="motivation-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['motivation'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['motivation'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">P</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Performance</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="performance"
                  [class]="impactDriversGroup.controls['performance'].invalid && impactDriversGroup.controls['performance'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['performance'].invalid && impactDriversGroup.controls['performance'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['performance'].invalid && impactDriversGroup.controls['performance'].touched ? 'performance-error' : null"
                  aria-label="Performance percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['performance'].invalid && impactDriversGroup.controls['performance'].touched) {
              <div id="performance-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['performance'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['performance'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">A</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Autonomy</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="autonomy"
                  [class]="impactDriversGroup.controls['autonomy'].invalid && impactDriversGroup.controls['autonomy'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['autonomy'].invalid && impactDriversGroup.controls['autonomy'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['autonomy'].invalid && impactDriversGroup.controls['autonomy'].touched ? 'autonomy-error' : null"
                  aria-label="Autonomy percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['autonomy'].invalid && impactDriversGroup.controls['autonomy'].touched) {
              <div id="autonomy-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['autonomy'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['autonomy'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">C</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Connection</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="connection"
                  [class]="impactDriversGroup.controls['connection'].invalid && impactDriversGroup.controls['connection'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['connection'].invalid && impactDriversGroup.controls['connection'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['connection'].invalid && impactDriversGroup.controls['connection'].touched ? 'connection-error' : null"
                  aria-label="Connection percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['connection'].invalid && impactDriversGroup.controls['connection'].touched) {
              <div id="connection-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['connection'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['connection'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="text-white font-bold text-2xl text-center bg-primary rounded-md px-4 py-1 w-12">T</p>
              <p class="text-[#747884] font-medium text-sm uppercase">Transformational Leadership</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="transformationalLeadership"
                  [class]="impactDriversGroup.controls['transformationalLeadership'].invalid && impactDriversGroup.controls['transformationalLeadership'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="impactDriversGroup.controls['transformationalLeadership'].invalid && impactDriversGroup.controls['transformationalLeadership'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="impactDriversGroup.controls['transformationalLeadership'].invalid && impactDriversGroup.controls['transformationalLeadership'].touched ? 'transformational-leadership-error' : null"
                  aria-label="Transformational Leadership percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (impactDriversGroup.controls['transformationalLeadership'].invalid && impactDriversGroup.controls['transformationalLeadership'].touched) {
              <div id="transformational-leadership-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (impactDriversGroup.controls['transformationalLeadership'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (impactDriversGroup.controls['transformationalLeadership'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>

          <div class="items-center justify-between px-4 py-2 grid grid-cols-[1fr_20%]">
            <span class="text-sm font-medium text-[#5B616C] uppercase">Overall Score</span>
            <span class="text-sm font-medium px-4 py-2 border border-[#E4E5E7] rounded-md bg-white text-[#5B616C] w-full text-center" aria-live="polite" aria-label="Overall impact drivers score">
              {{ impactDriversTotal() }}%
            </span>
          </div>
        </div>
      </fieldset>
    </cdk-step>

    <cdk-step>
      <fieldset class="rounded-lg lg:max-w-5xl w-full mx-auto lg:py-8 py-16" formGroupName="enpsSettings">
        <legend class="text-lg font-medium text-[#282D39]">Configure eNPS Settings</legend>

        <div id="enps-settings-heading" class="w-full flex justify-center items-center gap-2 my-8">
          <img src="images/meter-icon.svg" alt="meter icon for enps settings" />
          <p class="text-[#282D39] text-[40px] font-medium" aria-live="polite" aria-label="eNPS total percentage">{{ enpsSettingsTotal() }}%</p>
        </div>

        <div class="mt-8 space-y-2" aria-labelledby="enps-settings-heading">
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="bg-[#3fb75b] rounded-md px-4 py-1 w-8 h-8"></p>
              <p class="text-[#5B616C] font-medium text-sm uppercase">Promoters</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="promoters"
                  [class]="enpsSettingsGroup.controls['promoters'].invalid && enpsSettingsGroup.controls['promoters'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="enpsSettingsGroup.controls['promoters'].invalid && enpsSettingsGroup.controls['promoters'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="enpsSettingsGroup.controls['promoters'].invalid && enpsSettingsGroup.controls['promoters'].touched ? 'promoters-error' : null"
                  aria-label="Promoters percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (enpsSettingsGroup.controls['promoters'].invalid && enpsSettingsGroup.controls['promoters'].touched) {
              <div id="promoters-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (enpsSettingsGroup.controls['promoters'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (enpsSettingsGroup.controls['promoters'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="bg-[#ff9601] rounded-md px-4 py-1 w-8 h-8"></p>
              <p class="text-[#5B616C] font-medium text-sm uppercase">
                Passives
              </p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="passives"
                  [class]="enpsSettingsGroup.controls['passives'].invalid && enpsSettingsGroup.controls['passives'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="enpsSettingsGroup.controls['passives'].invalid && enpsSettingsGroup.controls['passives'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="enpsSettingsGroup.controls['passives'].invalid && enpsSettingsGroup.controls['passives'].touched ? 'passives-error' : null"
                  aria-label="Passives percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (enpsSettingsGroup.controls['passives'].invalid && enpsSettingsGroup.controls['passives'].touched) {
              <div id="passives-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (enpsSettingsGroup.controls['passives'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (enpsSettingsGroup.controls['passives'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>
          <div class="grid grid-cols-[1fr_20%] bg-[#F1F2F3] gap-2 px-4 py-2">
            <div class="flex justify-start items-center gap-2">
              <p class="bg-[#ff4430] rounded-md px-4 py-1 w-8 h-8"></p>
              <p class="text-[#5B616C] font-medium text-sm uppercase">Detractors</p>
            </div>
            <div class="flex flex-col space-x-1">
              <div class="flex items-center">
                <input
                  type="number"
                  min="0"
                  max="100"
                  formControlName="detractors"
                  [class]="enpsSettingsGroup.controls['detractors'].invalid && enpsSettingsGroup.controls['detractors'].touched
                    ? 'w-full px-2 py-2 border border-[#FF4530] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'
                    : 'w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm text-[#9297A0] text-center'"
                  [attr.aria-invalid]="enpsSettingsGroup.controls['detractors'].invalid && enpsSettingsGroup.controls['detractors'].touched ? 'true' : 'false'"
                  [attr.aria-describedby]="enpsSettingsGroup.controls['detractors'].invalid && enpsSettingsGroup.controls['detractors'].touched ? 'detractors-error' : null"
                  aria-label="Detractors percentage (0-100)"
                  placeholder="0"
                />
                <span class="text-sm text-[#747884]">%</span>
              </div>
              @if (enpsSettingsGroup.controls['detractors'].invalid && enpsSettingsGroup.controls['detractors'].touched) {
              <div id="detractors-error" class="mt-1 text-xs text-red-600" role="alert" aria-live="polite">
                @if (enpsSettingsGroup.controls['detractors'].hasError('max')) {
                  Value must be 100 or less
                }
                @if (enpsSettingsGroup.controls['detractors'].hasError('min')) {
                  Value must be 0 or greater
                }
              </div>
            }
            </div>
          </div>

          <div class="items-center justify-between px-4 py-2 grid grid-cols-[1fr_20%]">
            <span class="text-sm font-medium text-[#5B616C] uppercase">Total</span>
            <span class="text-sm font-medium px-4 py-2 border border-[#E4E5E7] rounded-md bg-white text-[#5B616C] w-full text-center" aria-live="polite" aria-label="eNPS settings total">
              {{ enpsSettingsTotal() }}%
            </span>
          </div>
        </div>
      </fieldset>
    </cdk-step>

    <cdk-step>
      <div class="rounded-lg lg:max-w-5xl w-full mx-auto lg:py-8 py-16" formGroupName="comments">
        <h3 class="text-lg font-medium text-[#282D39]">Comments</h3>
        <p class="text-[#747884] text-xs mt-3">Provide insights or justifications for each selected driver</p>

        <div class="grid grid-cols-1 lg:grid-cols-[30%_1fr] gap-8 mt-8">
          <div>
            <div class="flex items-center justify-between mb-4 bg-[#F1F2F3] px-4 py-3">
              <h4 class="text-[9.9px] font-semibold text-[#747884] uppercase">List of driver</h4>
            </div>

            <div class="space-y-2">
              <button type="button" class="w-full px-4 py-3 hover:bg-[#0082C61A] text-base text-[#363D4D] text-start rounded-sm capitalize" (click)="setCurrentComment(CommentGroup.INNOVATION)" [class.bg-[#0082C61A]]="CommentGroup.INNOVATION === currentCommentSection()">
                {{CommentGroup.INNOVATION}}
              </button>
              <button type="button" class="w-full px-4 py-3 hover:bg-[#0082C61A] text-base text-[#363D4D] text-start rounded-sm capitalize" (click)="setCurrentComment(CommentGroup.MOTIVATION)" [class.bg-[#0082C61A]]="CommentGroup.MOTIVATION === currentCommentSection()">
                {{CommentGroup.MOTIVATION}}
              </button>
              <button type="button" class="w-full px-4 py-3 hover:bg-[#0082C61A] text-base text-[#363D4D] text-start rounded-sm capitalize" (click)="setCurrentComment(CommentGroup.PERFORMANCE)" [class.bg-[#0082C61A]]="CommentGroup.PERFORMANCE === currentCommentSection()">
                {{CommentGroup.PERFORMANCE}}
              </button>
              <button type="button" class="w-full px-4 py-3 hover:bg-[#0082C61A] text-base text-[#363D4D] text-start rounded-sm capitalize" (click)="setCurrentComment(CommentGroup.AUTONOMY)" [class.bg-[#0082C61A]]="CommentGroup.AUTONOMY === currentCommentSection()">
                {{CommentGroup.AUTONOMY}}
              </button>
              <button type="button" class="w-full px-4 py-3 hover:bg-[#0082C61A] text-base text-[#363D4D] text-start rounded-sm capitalize" (click)="setCurrentComment(CommentGroup.CONNECTION)" [class.bg-[#0082C61A]]="CommentGroup.CONNECTION === currentCommentSection()">
                {{CommentGroup.CONNECTION}}
              </button>
            </div>
          </div>

          <div>
            <div class="flex items-center justify-start mb-4 gap-6 bg-[#F1F2F3] px-4 py-3">
              <h4 class="text-[9.9px] font-semibold text-[#747884] uppercase">Comment</h4>
            </div>

            <div class="space-y-2">
              @switch (currentCommentSection()) {
                @case (CommentGroup.INNOVATION) {
                  <div class="flex border border-gray-300 rounded-md shadow-sm bg-white p-2 items-start">
                    <textarea
                    formControlName="innovation"
                    rows="4"
                    [class]="commentsGroup.controls['innovation'].invalid && commentsGroup.controls['innovation'].touched
                      ? 'w-full border border-[#FF4530] focus:outline-none focus:ring-0 rounded-md resize-none'
                      : 'w-full outline-none rounded-md placeholder:text-[#9297A0] text-lg resize-none'"
                    placeholder="Comment on Innovation"></textarea>
                    <img src="images/globe-icon.svg" alt="scenario title globe icon" />
                  </div>
                }
                @case (CommentGroup.MOTIVATION) {
                  <div class="flex border border-gray-300 rounded-md shadow-sm bg-white p-2 items-start">
                    <textarea
                    formControlName="motivation"
                    rows="4"
                    [class]="commentsGroup.controls['motivation'].invalid && commentsGroup.controls['motivation'].touched
                      ? 'w-full border border-[#FF4530] focus:outline-none focus:ring-0 rounded-md resize-none'
                      : 'w-full outline-none rounded-md placeholder:text-[#9297A0] text-lg resize-none'"
                    placeholder="Comment on Motivation"></textarea>
                    <img src="images/globe-icon.svg" alt="scenario title globe icon" />
                  </div>
                }
                @case (CommentGroup.PERFORMANCE) {
                  <div class="flex border border-gray-300 rounded-md shadow-sm bg-white p-2 items-start">
                    <textarea
                    formControlName="performance"
                    rows="4"
                    [class]="commentsGroup.controls['performance'].invalid && commentsGroup.controls['performance'].touched
                      ? 'w-full border border-[#FF4530] focus:outline-none focus:ring-0 rounded-md resize-none'
                      : 'w-full outline-none rounded-md placeholder:text-[#9297A0] text-lg resize-none'"
                    placeholder="Comment on Performance"></textarea>
                    <img src="images/globe-icon.svg" alt="scenario title globe icon" />
                  </div>
                }
                @case (CommentGroup.AUTONOMY) {
                  <div class="flex border border-gray-300 rounded-md shadow-sm bg-white p-2 items-start">
                    <textarea
                    formControlName="autonomy"
                    rows="4"
                    [class]="commentsGroup.controls['autonomy'].invalid && commentsGroup.controls['autonomy'].touched
                      ? 'w-full border border-[#FF4530] focus:outline-none focus:ring-0 rounded-md resize-none'
                      : 'w-full outline-none rounded-md placeholder:text-[#9297A0] text-lg resize-none'"
                    placeholder="Comment on Autonomy"></textarea>
                    <img src="images/globe-icon.svg" alt="scenario title globe icon" />
                  </div>
                }
                @case (CommentGroup.CONNECTION) {
                  <div class="flex border border-gray-300 rounded-md shadow-sm bg-white p-2 items-start">
                    <textarea
                    formControlName="connection"
                    rows="4"
                    [class]="commentsGroup.controls['connection'].invalid && commentsGroup.controls['connection'].touched
                      ? 'w-full border border-[#FF4530] focus:outline-none focus:ring-0 rounded-md resize-none'
                      : 'w-full outline-none rounded-md placeholder:text-[#9297A0] text-lg resize-none'"
                    placeholder="Comment on Connection"></textarea>
                    <img src="images/globe-icon.svg" alt="scenario title globe icon" />
                  </div>
                }
              }
            </div>
          </div>
        </div>
      </div>
    </cdk-step>
  </app-stepper>
</form>